# ============================================================================
# CodeGuardian Dependencies - Kaggle Optimized
# ============================================================================
# This requirements.txt is optimized for Kaggle environment to avoid conflicts
# Most packages are already installed on Kaggle - we only install missing ones
# ============================================================================

###############################
# Core Dependencies (Minimal)
###############################
# Most of these are pre-installed on Kaggle, but we specify them for local dev
pyyaml>=6.0
regex>=2023.0.0
openpyxl>=3.1.0
rich>=12.4.4,<14.0.0      # Pin to avoid bigframes conflict
requests>=2.31.0
click>=8.0.0
tqdm>=4.64.0
jsonschema>=4.17.0

###############################
# Web Frameworks (Optional - Not needed for preprocessing)
###############################
# Commented out to reduce installation time and conflicts
# Uncomment if you need Django/Flask for web interface
# django>=4.2.0,<5.0.0
# flask>=2.3.0

###############################
# Machine Learning & Data Science
###############################
# Use compatible versions with Kaggle's pre-installed packages
numpy>=1.26.0,<2.0.0      # Keep 1.x for compatibility
pandas>=2.2.0,<2.3.0
scikit-learn>=1.5.0,<1.6.0  # Pin to avoid category-encoders conflict
xgboost>=1.7.0
joblib>=1.3.0

###############################
# I/O & Caching
###############################
# Pin pyarrow to version compatible with both datasets and cudf
pyarrow>=19.0.0,<20.0.0   # Critical: cudf needs <20, datasets needs >=19

###############################
# Deep Learning & Transformers
###############################
# These are mostly pre-installed on Kaggle, install only if missing
torch>=2.0.0
transformers>=4.40.0
tokenizers>=0.19.0
datasets>=2.19.0
accelerate>=0.30.0
huggingface_hub>=0.23.0
# hf_xet>=0.4.0  # Commented out - only needed if using Xet storage

###############################
# Monitoring & Logging
###############################
tensorboard>=2.18.0,<2.19.0  # Pin to avoid tensorflow conflict
loguru>=0.7.0
memory_profiler>=0.61.0

###############################
# Security & Code Quality
###############################
bandit>=1.7.5

###############################
# Testing (Development only)
###############################
pytest>=7.0.0
pytest-cov>=4.0.0

###############################
# Kaggle-Specific: RAPIDS/cuDF compatibility
###############################
# Ensure BigQuery-related packages match bigframes expectations
google-cloud-bigquery>=3.31.0
google-cloud-bigquery-storage>=2.30.0,<3.0.0
google-api-core>=2.10.2,<3.0.0

# Force cudf-polars to match cudf version (pre-installed on Kaggle)
# Uncomment if you see cudf-polars version mismatch errors:
# cudf-polars-cu12==25.2.2
# polars>=1.20,<1.22